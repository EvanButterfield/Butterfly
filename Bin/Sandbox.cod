; Listing generated by Microsoft (R) Optimizing Compiler Version 19.34.31935.0 

include listing.inc

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	RunApplication
PUBLIC	main
EXTRN	__imp_InitializePlatform:PROC
EXTRN	__imp_UpdatePlatform:PROC
EXTRN	__imp_PlatformConsoleWrite:PROC
pdata	SEGMENT
$pdata$RunApplication DD imagerel $LN5
	DD	imagerel $LN5+39
	DD	imagerel $unwind$RunApplication
$pdata$main DD	imagerel $LN3
	DD	imagerel $LN3+40
	DD	imagerel $unwind$main
pdata	ENDS
_DATA	SEGMENT
$SG96717 DB	'B', 00H, 'u', 00H, 't', 00H, 't', 00H, 'e', 00H, 'r', 00H
	DB	'f', 00H, 'l', 00H, 'y', 00H, ' ', 00H, 'E', 00H, 'n', 00H, 'g'
	DB	00H, 'i', 00H, 'n', 00H, 'e', 00H, 00H, 00H
	ORG $+6
$SG96721 DB	'This is a test!', 00H
_DATA	ENDS
xdata	SEGMENT
$unwind$RunApplication DD 010401H
	DD	04204H
$unwind$main DD	010401H
	DD	06204H
xdata	ENDS
; Function compile flags: /Odtp
; File W:\Butterfly\Engine\src\Butterfly\Entry.h
_TEXT	SEGMENT
ErrorCode$ = 32
PlatformData$ = 40
main	PROC

; 12   : {

$LN3:
  00000	48 83 ec 38	 sub	 rsp, 56			; 00000038H

; 13   :     void *PlatformData = InitializePlatform(L"Butterfly Engine");

  00004	48 8d 0d 00 00
	00 00		 lea	 rcx, OFFSET FLAT:$SG96717
  0000b	ff 15 00 00 00
	00		 call	 QWORD PTR __imp_InitializePlatform
  00011	48 89 44 24 28	 mov	 QWORD PTR PlatformData$[rsp], rax

; 14   :     
; 15   :     int ErrorCode = RunApplication();

  00016	e8 00 00 00 00	 call	 RunApplication
  0001b	89 44 24 20	 mov	 DWORD PTR ErrorCode$[rsp], eax

; 16   :     
; 17   :     return(ErrorCode);

  0001f	8b 44 24 20	 mov	 eax, DWORD PTR ErrorCode$[rsp]

; 18   : }

  00023	48 83 c4 38	 add	 rsp, 56			; 00000038H
  00027	c3		 ret	 0
main	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp
; File W:\Butterfly\Sandbox\src\Sandbox.c
_TEXT	SEGMENT
RunApplication PROC

; 4    : {

$LN5:
  00000	48 83 ec 28	 sub	 rsp, 40			; 00000028H

; 5    :     PlatformConsoleWrite("This is a test!", 3);

  00004	b2 03		 mov	 dl, 3
  00006	48 8d 0d 00 00
	00 00		 lea	 rcx, OFFSET FLAT:$SG96721
  0000d	ff 15 00 00 00
	00		 call	 QWORD PTR __imp_PlatformConsoleWrite
$LN2@RunApplica:

; 6    :     
; 7    :     while(TRUE)

  00013	33 c0		 xor	 eax, eax
  00015	83 f8 01	 cmp	 eax, 1
  00018	74 08		 je	 SHORT $LN3@RunApplica

; 8    :     {
; 9    :         UpdatePlatform();

  0001a	ff 15 00 00 00
	00		 call	 QWORD PTR __imp_UpdatePlatform

; 10   :     }

  00020	eb f1		 jmp	 SHORT $LN2@RunApplica
$LN3@RunApplica:

; 11   : }

  00022	48 83 c4 28	 add	 rsp, 40			; 00000028H
  00026	c3		 ret	 0
RunApplication ENDP
_TEXT	ENDS
END
